[{"sql":["CREATE TABLE \"expressions\" (\n\t\"id\" char(26) PRIMARY KEY NOT NULL,\n\t\"time_created\" timestamp DEFAULT now() NOT NULL,\n\t\"time_updated\" timestamp DEFAULT now() NOT NULL,\n\t\"expression\" text NOT NULL,\n\t\"level_id\" char(26) NOT NULL\n);\n","\nCREATE TABLE \"levels\" (\n\t\"id\" text PRIMARY KEY NOT NULL\n);\n","\nCREATE TABLE \"meanings\" (\n\t\"id\" char(26) PRIMARY KEY NOT NULL,\n\t\"time_created\" timestamp DEFAULT now() NOT NULL,\n\t\"time_updated\" timestamp DEFAULT now() NOT NULL,\n\t\"reading_id\" char(26) NOT NULL,\n\t\"meaning\" text NOT NULL\n);\n","\nCREATE TABLE \"readings\" (\n\t\"id\" char(26) PRIMARY KEY NOT NULL,\n\t\"time_created\" timestamp DEFAULT now() NOT NULL,\n\t\"time_updated\" timestamp DEFAULT now() NOT NULL,\n\t\"expression_id\" char(26) NOT NULL,\n\t\"furigana\" text NOT NULL,\n\tCONSTRAINT \"expression_furigana_unq\" UNIQUE(\"expression_id\",\"furigana\")\n);\n","\nCREATE TABLE \"session_reading_statuses\" (\n\t\"id\" char(26) PRIMARY KEY NOT NULL,\n\t\"time_created\" timestamp DEFAULT now() NOT NULL,\n\t\"time_updated\" timestamp DEFAULT now() NOT NULL,\n\t\"session_id\" char(26) NOT NULL,\n\t\"reading_id\" char(26) NOT NULL,\n\t\"known_at\" timestamp DEFAULT now() NOT NULL\n);\n","\nCREATE TABLE \"sessions\" (\n\t\"id\" char(26) PRIMARY KEY NOT NULL,\n\t\"time_created\" timestamp DEFAULT now() NOT NULL,\n\t\"time_updated\" timestamp DEFAULT now() NOT NULL,\n\t\"level_id\" char(26) NOT NULL,\n\t\"ended_at\" timestamp\n);\n","\nALTER TABLE \"expressions\" ADD CONSTRAINT \"expressions_level_id_levels_id_fk\" FOREIGN KEY (\"level_id\") REFERENCES \"public\".\"levels\"(\"id\") ON DELETE cascade ON UPDATE cascade;","\nALTER TABLE \"meanings\" ADD CONSTRAINT \"meanings_reading_id_readings_id_fk\" FOREIGN KEY (\"reading_id\") REFERENCES \"public\".\"readings\"(\"id\") ON DELETE cascade ON UPDATE cascade;","\nALTER TABLE \"readings\" ADD CONSTRAINT \"readings_expression_id_expressions_id_fk\" FOREIGN KEY (\"expression_id\") REFERENCES \"public\".\"expressions\"(\"id\") ON DELETE cascade ON UPDATE cascade;","\nALTER TABLE \"session_reading_statuses\" ADD CONSTRAINT \"session_reading_statuses_session_id_sessions_id_fk\" FOREIGN KEY (\"session_id\") REFERENCES \"public\".\"sessions\"(\"id\") ON DELETE cascade ON UPDATE no action;","\nALTER TABLE \"session_reading_statuses\" ADD CONSTRAINT \"session_reading_statuses_reading_id_readings_id_fk\" FOREIGN KEY (\"reading_id\") REFERENCES \"public\".\"readings\"(\"id\") ON DELETE cascade ON UPDATE no action;","\nALTER TABLE \"sessions\" ADD CONSTRAINT \"sessions_level_id_levels_id_fk\" FOREIGN KEY (\"level_id\") REFERENCES \"public\".\"levels\"(\"id\") ON DELETE no action ON UPDATE no action;"],"bps":true,"folderMillis":1749194439406,"hash":"8de13eb42c79078cab5b8c0d1eb6df24bf8b3eba43be088b7309aede149d1160"}]