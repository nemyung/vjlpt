[{"sql":["CREATE TABLE \"expressions\" (\n\t\"id\" char(26) PRIMARY KEY NOT NULL,\n\t\"time_created\" timestamp DEFAULT now() NOT NULL,\n\t\"time_updated\" timestamp DEFAULT now() NOT NULL,\n\t\"expression\" text NOT NULL\n);\n","\nCREATE TABLE \"levels\" (\n\t\"id\" text PRIMARY KEY NOT NULL\n);\n","\nCREATE TABLE \"meanings\" (\n\t\"id\" char(26) PRIMARY KEY NOT NULL,\n\t\"time_created\" timestamp DEFAULT now() NOT NULL,\n\t\"time_updated\" timestamp DEFAULT now() NOT NULL,\n\t\"reading_id\" char(26) NOT NULL,\n\t\"meaning\" text NOT NULL\n);\n","\nCREATE TABLE \"readings\" (\n\t\"id\" char(26) PRIMARY KEY NOT NULL,\n\t\"time_created\" timestamp DEFAULT now() NOT NULL,\n\t\"time_updated\" timestamp DEFAULT now() NOT NULL,\n\t\"expression_id\" char(26) NOT NULL,\n\t\"stage_id\" char(26) NOT NULL,\n\t\"furigana\" text NOT NULL,\n\tCONSTRAINT \"expression_furigana_unq\" UNIQUE(\"expression_id\",\"furigana\")\n);\n","\nCREATE TABLE \"session_reading_interactions\" (\n\t\"id\" char(26) PRIMARY KEY NOT NULL,\n\t\"time_created\" timestamp DEFAULT now() NOT NULL,\n\t\"time_updated\" timestamp DEFAULT now() NOT NULL,\n\t\"session_id\" char(26) NOT NULL,\n\t\"reading_id\" char(26) NOT NULL,\n\t\"status\" text NOT NULL\n);\n","\nCREATE TABLE \"sessions\" (\n\t\"id\" char(26) PRIMARY KEY NOT NULL,\n\t\"time_created\" timestamp DEFAULT now() NOT NULL,\n\t\"time_updated\" timestamp DEFAULT now() NOT NULL,\n\t\"stage_id\" char(26) NOT NULL,\n\t\"ended_at\" timestamp\n);\n","\nCREATE TABLE \"stages\" (\n\t\"id\" char(26) PRIMARY KEY NOT NULL,\n\t\"time_created\" timestamp DEFAULT now() NOT NULL,\n\t\"time_updated\" timestamp DEFAULT now() NOT NULL,\n\t\"levelId\" text NOT NULL,\n\t\"order\" integer NOT NULL,\n\tCONSTRAINT \"level_order_unq\" UNIQUE(\"levelId\",\"order\")\n);\n","\nALTER TABLE \"meanings\" ADD CONSTRAINT \"meanings_reading_id_readings_id_fk\" FOREIGN KEY (\"reading_id\") REFERENCES \"public\".\"readings\"(\"id\") ON DELETE cascade ON UPDATE cascade;","\nALTER TABLE \"readings\" ADD CONSTRAINT \"readings_expression_id_expressions_id_fk\" FOREIGN KEY (\"expression_id\") REFERENCES \"public\".\"expressions\"(\"id\") ON DELETE cascade ON UPDATE cascade;","\nALTER TABLE \"readings\" ADD CONSTRAINT \"readings_stage_id_stages_id_fk\" FOREIGN KEY (\"stage_id\") REFERENCES \"public\".\"stages\"(\"id\") ON DELETE cascade ON UPDATE cascade;","\nALTER TABLE \"session_reading_interactions\" ADD CONSTRAINT \"session_reading_interactions_session_id_sessions_id_fk\" FOREIGN KEY (\"session_id\") REFERENCES \"public\".\"sessions\"(\"id\") ON DELETE cascade ON UPDATE no action;","\nALTER TABLE \"session_reading_interactions\" ADD CONSTRAINT \"session_reading_interactions_reading_id_readings_id_fk\" FOREIGN KEY (\"reading_id\") REFERENCES \"public\".\"readings\"(\"id\") ON DELETE cascade ON UPDATE no action;","\nALTER TABLE \"sessions\" ADD CONSTRAINT \"sessions_stage_id_stages_id_fk\" FOREIGN KEY (\"stage_id\") REFERENCES \"public\".\"stages\"(\"id\") ON DELETE no action ON UPDATE no action;","\nALTER TABLE \"stages\" ADD CONSTRAINT \"stages_levelId_levels_id_fk\" FOREIGN KEY (\"levelId\") REFERENCES \"public\".\"levels\"(\"id\") ON DELETE cascade ON UPDATE cascade;"],"bps":true,"folderMillis":1749270317952,"hash":"8ecfd4e822b6df28e8ef1eebd5e43413879febd105a2b9c5c70a253a5000c97b"}]