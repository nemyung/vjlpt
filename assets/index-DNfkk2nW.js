const a="0123456789ABCDEFGHJKMNPQRSTVWXYZ";var r;(function(e){e.Base32IncorrectEncoding="B32_ENC_INVALID",e.DecodeTimeInvalidCharacter="DEC_TIME_CHAR",e.DecodeTimeValueMalformed="DEC_TIME_MALFORMED",e.EncodeTimeNegative="ENC_TIME_NEG",e.EncodeTimeSizeExceeded="ENC_TIME_SIZE_EXCEED",e.EncodeTimeValueMalformed="ENC_TIME_MALFORMED",e.PRNGDetectFailure="PRNG_DETECT",e.ULIDInvalid="ULID_INVALID",e.Unexpected="UNEXPECTED",e.UUIDInvalid="UUID_INVALID"})(r||(r={}));class o extends Error{constructor(t,n){super(`${n} (${t})`),this.name="ULIDError",this.code=t}}function E(e){let t=Math.floor(e()*32);return t===32&&(t=31),a.charAt(t)}function u(e){const t=f(),n=t&&(t.crypto||t.msCrypto)||null;if(typeof(n==null?void 0:n.getRandomValues)=="function")return()=>{const i=new Uint8Array(1);return n.getRandomValues(i),i[0]/255};if(typeof(n==null?void 0:n.randomBytes)=="function")return()=>n.randomBytes(1).readUInt8()/255;throw new o(r.PRNGDetectFailure,"Failed to find a reliable PRNG")}function f(){return d()?self:typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:null}function N(e,t){let n="";for(;e>0;e--)n=E(t)+n;return n}function s(e,t=10){if(isNaN(e))throw new o(r.EncodeTimeValueMalformed,`Time must be a number: ${e}`);if(e>0xffffffffffff)throw new o(r.EncodeTimeSizeExceeded,`Cannot encode a time larger than ${0xffffffffffff}: ${e}`);if(e<0)throw new o(r.EncodeTimeNegative,`Time must be positive: ${e}`);if(Number.isInteger(e)===!1)throw new o(r.EncodeTimeValueMalformed,`Time must be an integer: ${e}`);let n,i="";for(let c=t;c>0;c--)n=e%32,i=a.charAt(n)+i,e=(e-n)/32;return i}function d(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function l(e,t){const n=u(),i=Date.now();return s(i,10)+N(16,n)}export{l as u};
